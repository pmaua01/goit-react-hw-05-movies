"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[570],{570:function(e,t,r){r.r(t),r.d(t,{MovieDetail:function(){return p}});var n=r(861),s=r(885),i=r(757),o=r.n(i),a=r(689),l=r(731),c=r(139),d=r(791),h=r(264),u=r(184),p=function(){var e,t,r=(0,d.useState)([]),i=(0,s.Z)(r,2),p=i[0],m=i[1],x=(0,d.useState)(null),v=(0,s.Z)(x,2),j=v[0],f=v[1],g=(0,a.UO)().id,w=(0,a.TH)();console.log("location on hook",w),(0,d.useEffect)((function(){var e=new AbortController;function t(){return(t=(0,n.Z)(o().mark((function t(){var r,n,s,i,a,l,d,h,u,p,x,v;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,c.XZ)(g,e);case 3:r=t.sent,console.log("apiMovieDetail",r),n=r.poster_path,s=r.title,i=r.popularity,a=r.overview,l=r.release_date,d=r.genres,h=r.vote_average,u=String(l).slice(0,4),p=Number(i).toFixed(),x=Number(h).toFixed(),v=d.map((function(e){return e.name})).join(" "),m({poster_path:n,title:s,overview:a,normilizeReleaseData:u,normilizePopularity:p,normilizeGenre:v,normilizedVoteAverage:x}),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),console.log("Error on catch",t.t0.response.status),f(t.t0.response.status);case 17:case"end":return t.stop()}}),t,null,[[0,13]])})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){e.abort()}}),[g]);var b=p.poster_path,Z=p.title,k=p.overview,N=p.normilizeReleaseData,_=p.normilizeGenre,y=p.normilizedVoteAverage,z=null!==(e=null===(t=w.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/";return console.log("error",j),404===j?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(l.rU,{to:z,children:(0,u.jsx)("button",{type:"button",children:"Go back"})}),(0,u.jsx)("div",{children:"Opps, try again later...."})]}):(console.log("fromHref",z),(0,u.jsxs)("main",{children:[(0,u.jsx)(l.rU,{to:z,children:(0,u.jsx)("button",{className:h.Z.detailButton,type:"button",children:"Go back"})}),(0,u.jsxs)("div",{className:h.Z.filmInfo,children:[(0,u.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(b),alt:"",width:"300"}),(0,u.jsxs)("div",{className:h.Z.filmInfoText,children:[(0,u.jsxs)("h1",{children:[Z,"(",N,")"]}),(0,u.jsxs)("p",{className:h.Z.text,children:["User score:",10*y,"%"]}),(0,u.jsx)("h2",{children:"Overview"}),(0,u.jsx)("p",{className:h.Z.text,children:k}),(0,u.jsx)("h2",{children:"Genres"}),(0,u.jsx)("p",{className:h.Z.text,children:_})]})]}),(0,u.jsxs)("div",{className:h.Z.aditional,children:[(0,u.jsx)("p",{className:h.Z.textAditional,children:"Aditional information"}),(0,u.jsxs)("ul",{className:h.Z.aditionalList,children:[(0,u.jsx)("li",{children:(0,u.jsx)(l.rU,{to:"cast",state:{from:z},children:"Cast"})}),(0,u.jsx)("li",{children:(0,u.jsx)(l.rU,{to:"reviews",state:{from:z},children:"Reviews"})})]})]}),(0,u.jsx)(d.Suspense,{children:(0,u.jsx)(a.j3,{})})]}))}}}]);
//# sourceMappingURL=570.388e979e.chunk.js.map